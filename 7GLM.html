<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>HPSP131 - Workbook 3 - Data Skills: Cleaning</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HPSP131</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="1intro.html">1. Intro</a>
</li>
<li>
  <a href="2data.html">2. Data 1</a>
</li>
<li>
  <a href="7GLM.html">3. Data 2</a>
</li>
<li>
  <a href="3plot.html">4. Plot</a>
</li>
<li>
  <a href="4LM1.html">5. LM1</a>
</li>
<li>
  <a href="5LM2.html">6. LM2</a>
</li>
<li>
  <a href="6mod_med2.html">7. Mod_Med</a>
</li>
<li>
  <a href="8sim.html">8. Power</a>
</li>
<li>
  <a href="9SEM.html">9. SEM</a>
</li>
<li>
  <a href="10mixed.html">10. Mixed</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="exercises.html">Exercises</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">HPSP131 - Workbook 3 - Data Skills: Cleaning</h1>

</div>


<div id="objectives" class="section level1">
<h1>Objectives</h1>
<p>The aim of this week is to cover analyses tidyverse functions used for data cleaning. By the end of this workbook, you should be able to:</p>
<ol style="list-style-type: decimal">
<li>Understand common practices for cleaning a dataset, including:</li>
</ol>
<ul>
<li>Selecting relevant variables</li>
<li>Removing participants</li>
<li>Dealing with missing data</li>
<li>Calculating scores from multiple variables</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Be able to use the following tidyverse functions:</li>
</ol>
<ul>
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>mutate()</code></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Understand the pipe: <code>%&gt;%</code></li>
</ol>
</div>
<div id="class-data" class="section level1">
<h1>Class Data</h1>
<p><a href = files/data_2021.csv download>Click here to download the data used in these workbooks.</a> (You may need to right-click and select ‘Save Linked File’ option)</p>
</div>
<div id="exercises" class="section level1">
<h1>Exercises</h1>
<p><a href = "exercises.html">Click here to download this week’s exercises.</a></p>
</div>
<div id="content" class="section level1">
<h1>Content</h1>
<div id="overview---data-cleaning" class="section level2">
<h2>Overview - Data Cleaning</h2>
<p>Data cleaning is the process of getting the data ready for analysis. It usually involves selecting the variables you will use in the analysis, filtering out participants that don’t meet certain criteria, or computing composite variables that will be used in analyses. However, it can also include more complex operations, such as reshaping the data, or joining data from different data files.</p>
<p>In psychology, there are three general key principles you want to follow when cleaning a data.frame:</p>
<ol style="list-style-type: decimal">
<li>Make sure each participant is on a separate row.</li>
<li>Make sure each variable (or measurement) is in a separate column.</li>
<li>Make sure each cell has one and only one value.</li>
</ol>
</div>
<div id="recap-tidyverse" class="section level2">
<h2>Recap: Tidyverse</h2>
<p>Recall from last week that the tidyverse package provides handy functions for data cleaning and manipulation. These functions work like all other functions: they take numerous of arguments, such as a data.frame and instructions, then returns to you an output, which is often another data.frame. In this workbook, we will cover three such functions that are commonly used for data cleaning.</p>
<p>Make sure to load the tidyverse package before starting this workbook.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<div id="select" class="section level3">
<h3>select()</h3>
<p>Use the <code>select()</code> to extract columns in a table. Often when loading a dataset, there will be columns/variables that are not relevant to the analysis you want to conduct. This function can be helpful when a dataset contains many columns and you only want to include the variables relevant to your analysis.</p>
<p>For example, in dataset used in these workbooks, we measured a large number of variables; however, we will only be working with a few of the many variables any given week. Therefore, we may want to select the variables we will be using in a given week. In the code below, we are only selecting the columns we are using this week.</p>
<pre class="r"><code>data.select &lt;- select(data,student.no,program,stats.exp,pathogen1,pathogen2,pathogen3,pathogen4,pathogen5,pathogen6,pathogen7)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student.no"],"name":[1],"type":["int"],"align":["right"]},{"label":["program"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stats.exp"],"name":[3],"type":["int"],"align":["right"]},{"label":["pathogen1"],"name":[4],"type":["int"],"align":["right"]},{"label":["pathogen2"],"name":[5],"type":["int"],"align":["right"]},{"label":["pathogen3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pathogen4"],"name":[7],"type":["int"],"align":["right"]},{"label":["pathogen5"],"name":[8],"type":["int"],"align":["right"]},{"label":["pathogen6"],"name":[9],"type":["int"],"align":["right"]},{"label":["pathogen7"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"11644563","2":"Health MSc","3":"7","4":"5","5":"3","6":"1","7":"1","8":"6","9":"5","10":"3"},{"1":"11715687","2":"Conversion MSc","3":"7","4":"3","5":"3","6":"5","7":"4","8":"5","9":"4","10":"6"},{"1":"17204318","2":"Conversion MSc","3":"2","4":"4","5":"1","6":"3","7":"5","8":"4","9":"3","10":"3"},{"1":"17702449","2":"Health MSc","3":"5","4":"2","5":"2","6":"2","7":"2","8":"4","9":"6","10":"4"},{"1":"17767997","2":"Health MSc","3":"4","4":"2","5":"3","6":"4","7":"2","8":"5","9":"1","10":"3"},{"1":"18935518","2":"Conversion MSc","3":"5","4":"5","5":"3","6":"4","7":"3","8":"4","9":"4","10":"3"},{"1":"19566810","2":"Conversion MSc","3":"1","4":"3","5":"3","6":"4","7":"6","8":"5","9":"6","10":"5"},{"1":"20820533","2":"Health MSc","3":"4","4":"1","5":"0","6":"0","7":"5","8":"1","9":"0","10":"1"},{"1":"23361563","2":"Conversion MSc","3":"1","4":"6","5":"0","6":"1","7":"2","8":"4","9":"0","10":"3"},{"1":"23392188","2":"Other Research MSc","3":"4","4":"6","5":"3","6":"6","7":"6","8":"5","9":"6","10":"6"},{"1":"24779705","2":"Conversion MSc","3":"1","4":"2","5":"1","6":"0","7":"6","8":"0","9":"1","10":"0"},{"1":"26181513","2":"Conversion MSc","3":"4","4":"5","5":"1","6":"3","7":"6","8":"4","9":"4","10":"3"},{"1":"26563628","2":"Health MSc","3":"5","4":"1","5":"2","6":"4","7":"3","8":"4","9":"5","10":"4"},{"1":"26815237","2":"Conversion MSc","3":"2","4":"4","5":"0","6":"5","7":"5","8":"2","9":"3","10":"3"},{"1":"27163857","2":"Conversion MSc","3":"6","4":"3","5":"2","6":"3","7":"3","8":"6","9":"1","10":"3"},{"1":"28088607","2":"Other Research MSc","3":"6","4":"4","5":"1","6":"2","7":"1","8":"3","9":"1","10":"1"},{"1":"28229547","2":"Conversion MSc","3":"2","4":"0","5":"0","6":"0","7":"1","8":"0","9":"0","10":"3"},{"1":"29739378","2":"Conversion MSc","3":"1","4":"4","5":"0","6":"2","7":"2","8":"4","9":"0","10":"1"},{"1":"33374488","2":"Health MSc","3":"6","4":"6","5":"2","6":"4","7":"5","8":"5","9":"4","10":"4"},{"1":"34400097","2":"Health MSc","3":"5","4":"5","5":"3","6":"5","7":"6","8":"6","9":"2","10":"4"},{"1":"34432630","2":"Conversion MSc","3":"5","4":"6","5":"3","6":"0","7":"5","8":"4","9":"4","10":"3"},{"1":"35531321","2":"Conversion MSc","3":"1","4":"4","5":"2","6":"5","7":"2","8":"4","9":"0","10":"3"},{"1":"39402415","2":"Conversion MSc","3":"5","4":"6","5":"3","6":"2","7":"6","8":"3","9":"5","10":"6"},{"1":"40468529","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"4","7":"1","8":"4","9":"1","10":"3"},{"1":"40743780","2":"Conversion MSc","3":"2","4":"2","5":"0","6":"1","7":"3","8":"2","9":"1","10":"3"},{"1":"40975375","2":"Other Research MSc","3":"5","4":"5","5":"0","6":"1","7":"5","8":"5","9":"6","10":"0"},{"1":"41062226","2":"Conversion MSc","3":"3","4":"2","5":"4","6":"4","7":"2","8":"3","9":"6","10":"5"},{"1":"43449921","2":"Health MSc","3":"5","4":"3","5":"1","6":"2","7":"4","8":"2","9":"0","10":"4"},{"1":"44873038","2":"Conversion MSc","3":"6","4":"3","5":"2","6":"2","7":"3","8":"2","9":"5","10":"3"},{"1":"45750699","2":"Health MSc","3":"5","4":"4","5":"1","6":"1","7":"5","8":"5","9":"5","10":"0"},{"1":"46139250","2":"Conversion MSc","3":"4","4":"4","5":"5","6":"5","7":"6","8":"6","9":"6","10":"4"},{"1":"47331444","2":"Other Research MSc","3":"5","4":"5","5":"0","6":"3","7":"6","8":"4","9":"6","10":"4"},{"1":"47794858","2":"Conversion MSc","3":"2","4":"5","5":"3","6":"6","7":"2","8":"6","9":"5","10":"2"},{"1":"48515785","2":"Conversion MSc","3":"7","4":"6","5":"3","6":"6","7":"5","8":"5","9":"6","10":"5"},{"1":"49574167","2":"Other Research MSc","3":"6","4":"6","5":"1","6":"5","7":"6","8":"5","9":"6","10":"6"},{"1":"50045850","2":"Health MSc","3":"3","4":"6","5":"1","6":"4","7":"4","8":"3","9":"4","10":"4"},{"1":"50087211","2":"Conversion MSc","3":"3","4":"6","5":"4","6":"3","7":"5","8":"3","9":"6","10":"6"},{"1":"50311419","2":"Health MSc","3":"5","4":"0","5":"5","6":"6","7":"5","8":"6","9":"4","10":"1"},{"1":"51488584","2":"Conversion MSc","3":"1","4":"6","5":"2","6":"3","7":"4","8":"4","9":"6","10":"2"},{"1":"51603561","2":"Conversion MSc","3":"1","4":"5","5":"3","6":"4","7":"2","8":"5","9":"5","10":"5"},{"1":"53878954","2":"Conversion MSc","3":"1","4":"6","5":"3","6":"6","7":"3","8":"5","9":"5","10":"2"},{"1":"54356540","2":"Other Research MSc","3":"4","4":"6","5":"1","6":"3","7":"6","8":"6","9":"6","10":"6"},{"1":"54468708","2":"Conversion MSc","3":"7","4":"3","5":"0","6":"3","7":"6","8":"4","9":"0","10":"0"},{"1":"54935367","2":"Conversion MSc","3":"1","4":"6","5":"0","6":"4","7":"6","8":"4","9":"3","10":"3"},{"1":"55648027","2":"Conversion MSc","3":"3","4":"4","5":"3","6":"3","7":"2","8":"5","9":"4","10":"2"},{"1":"56599067","2":"Conversion MSc","3":"3","4":"4","5":"2","6":"1","7":"4","8":"3","9":"3","10":"2"},{"1":"57051197","2":"Other Research MSc","3":"6","4":"4","5":"0","6":"0","7":"5","8":"0","9":"1","10":"0"},{"1":"58483383","2":"Conversion MSc","3":"2","4":"3","5":"3","6":"5","7":"4","8":"3","9":"6","10":"1"},{"1":"58955821","2":"Other Research MSc","3":"8","4":"5","5":"6","6":"4","7":"3","8":"4","9":"2","10":"6"},{"1":"60784870","2":"Health MSc","3":"6","4":"3","5":"3","6":"3","7":"6","8":"5","9":"4","10":"1"},{"1":"61664844","2":"Other Research MSc","3":"5","4":"6","5":"0","6":"4","7":"6","8":"4","9":"3","10":"5"},{"1":"63370442","2":"Conversion MSc","3":"3","4":"4","5":"1","6":"1","7":"1","8":"2","9":"3","10":"2"},{"1":"66598001","2":"Conversion MSc","3":"2","4":"5","5":"0","6":"2","7":"4","8":"4","9":"5","10":"1"},{"1":"66978708","2":"Health MSc","3":"5","4":"5","5":"0","6":"3","7":"6","8":"3","9":"0","10":"1"},{"1":"67787999","2":"Other Research MSc","3":"2","4":"4","5":"0","6":"4","7":"4","8":"4","9":"0","10":"6"},{"1":"68327148","2":"Health MSc","3":"6","4":"5","5":"5","6":"4","7":"6","8":"4","9":"6","10":"6"},{"1":"69045914","2":"Health MSc","3":"8","4":"0","5":"1","6":"2","7":"3","8":"4","9":"6","10":"1"},{"1":"71121905","2":"Conversion MSc","3":"1","4":"4","5":"2","6":"3","7":"3","8":"5","9":"2","10":"3"},{"1":"71549852","2":"Other Research MSc","3":"3","4":"3","5":"3","6":"5","7":"2","8":"5","9":"2","10":"0"},{"1":"72579330","2":"NA","3":"4","4":"4","5":"2","6":"2","7":"5","8":"4","9":"1","10":"1"},{"1":"73141754","2":"Health MSc","3":"3","4":"3","5":"1","6":"4","7":"2","8":"3","9":"6","10":"6"},{"1":"73432871","2":"Conversion MSc","3":"3","4":"2","5":"0","6":"2","7":"0","8":"4","9":"0","10":"5"},{"1":"74824053","2":"Conversion MSc","3":"6","4":"6","5":"1","6":"2","7":"5","8":"5","9":"6","10":"4"},{"1":"76275524","2":"Conversion MSc","3":"2","4":"6","5":"5","6":"5","7":"4","8":"5","9":"6","10":"4"},{"1":"76506621","2":"Conversion MSc","3":"3","4":"5","5":"2","6":"3","7":"4","8":"3","9":"1","10":"4"},{"1":"80943846","2":"Other Research MSc","3":"3","4":"5","5":"4","6":"2","7":"1","8":"3","9":"2","10":"4"},{"1":"81443313","2":"Conversion MSc","3":"2","4":"3","5":"2","6":"2","7":"0","8":"2","9":"1","10":"0"},{"1":"82821345","2":"Conversion MSc","3":"7","4":"6","5":"4","6":"4","7":"6","8":"5","9":"6","10":"4"},{"1":"83182402","2":"Conversion MSc","3":"2","4":"6","5":"0","6":"5","7":"6","8":"3","9":"5","10":"0"},{"1":"84242261","2":"Other Research MSc","3":"3","4":"4","5":"1","6":"4","7":"1","8":"4","9":"3","10":"1"},{"1":"85515190","2":"Other Research MSc","3":"3","4":"6","5":"2","6":"5","7":"2","8":"3","9":"6","10":"6"},{"1":"85997399","2":"Conversion MSc","3":"3","4":"5","5":"2","6":"3","7":"2","8":"4","9":"5","10":"4"},{"1":"86493744","2":"Conversion MSc","3":"3","4":"5","5":"0","6":"2","7":"6","8":"5","9":"0","10":"0"},{"1":"87203466","2":"Health MSc","3":"5","4":"4","5":"0","6":"5","7":"5","8":"4","9":"4","10":"0"},{"1":"87985954","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"4","7":"4","8":"5","9":"0","10":"0"},{"1":"88116070","2":"Other Research MSc","3":"4","4":"4","5":"0","6":"1","7":"4","8":"1","9":"4","10":"2"},{"1":"88228495","2":"Conversion MSc","3":"2","4":"5","5":"2","6":"3","7":"3","8":"3","9":"5","10":"3"},{"1":"88901469","2":"Health MSc","3":"6","4":"4","5":"1","6":"3","7":"4","8":"5","9":"2","10":"4"},{"1":"88948385","2":"Health MSc","3":"6","4":"3","5":"3","6":"4","7":"5","8":"3","9":"3","10":"4"},{"1":"89327898","2":"Health MSc","3":"7","4":"4","5":"4","6":"6","7":"6","8":"5","9":"5","10":"6"},{"1":"91786723","2":"Health MSc","3":"4","4":"4","5":"0","6":"0","7":"6","8":"1","9":"5","10":"2"},{"1":"91869117","2":"Conversion MSc","3":"4","4":"2","5":"0","6":"2","7":"0","8":"3","9":"3","10":"0"},{"1":"91900727","2":"Health MSc","3":"7","4":"6","5":"6","6":"6","7":"6","8":"6","9":"6","10":"6"},{"1":"93737412","2":"Conversion MSc","3":"3","4":"1","5":"2","6":"0","7":"2","8":"1","9":"4","10":"1"},{"1":"93823613","2":"Health MSc","3":"4","4":"4","5":"0","6":"4","7":"3","8":"4","9":"3","10":"3"},{"1":"96521842","2":"Other Research MSc","3":"6","4":"5","5":"3","6":"3","7":"6","8":"5","9":"1","10":"1"},{"1":"97053400","2":"Conversion MSc","3":"3","4":"6","5":"1","6":"6","7":"5","8":"2","9":"2","10":"0"},{"1":"98773805","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"1","7":"3","8":"3","9":"4","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="filter" class="section level3">
<h3>filter()</h3>
<p>Similar to how the <code>select()</code> function select for certain columns, you can use the <code>filter()</code> function to select for certain rows from a table. This is useful if you need to exclude participants from your analysis for some reason.</p>
<p>To use the <code>filter()</code> function works, you will need to specify a certain condition (or test). If a row passes that test, then it is kept. If a row fails that test, then it is excluded.</p>
<p>For example, let’s say that we are only interested in responses from participants completing the Health Psychology MSc. We can use the filter function to only select these participants.</p>
<pre class="r"><code>data.filter1 &lt;- filter(data.select,program == &quot;Health MSc&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student.no"],"name":[1],"type":["int"],"align":["right"]},{"label":["program"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stats.exp"],"name":[3],"type":["int"],"align":["right"]},{"label":["pathogen1"],"name":[4],"type":["int"],"align":["right"]},{"label":["pathogen2"],"name":[5],"type":["int"],"align":["right"]},{"label":["pathogen3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pathogen4"],"name":[7],"type":["int"],"align":["right"]},{"label":["pathogen5"],"name":[8],"type":["int"],"align":["right"]},{"label":["pathogen6"],"name":[9],"type":["int"],"align":["right"]},{"label":["pathogen7"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"11644563","2":"Health MSc","3":"7","4":"5","5":"3","6":"1","7":"1","8":"6","9":"5","10":"3"},{"1":"17702449","2":"Health MSc","3":"5","4":"2","5":"2","6":"2","7":"2","8":"4","9":"6","10":"4"},{"1":"17767997","2":"Health MSc","3":"4","4":"2","5":"3","6":"4","7":"2","8":"5","9":"1","10":"3"},{"1":"20820533","2":"Health MSc","3":"4","4":"1","5":"0","6":"0","7":"5","8":"1","9":"0","10":"1"},{"1":"26563628","2":"Health MSc","3":"5","4":"1","5":"2","6":"4","7":"3","8":"4","9":"5","10":"4"},{"1":"33374488","2":"Health MSc","3":"6","4":"6","5":"2","6":"4","7":"5","8":"5","9":"4","10":"4"},{"1":"34400097","2":"Health MSc","3":"5","4":"5","5":"3","6":"5","7":"6","8":"6","9":"2","10":"4"},{"1":"43449921","2":"Health MSc","3":"5","4":"3","5":"1","6":"2","7":"4","8":"2","9":"0","10":"4"},{"1":"45750699","2":"Health MSc","3":"5","4":"4","5":"1","6":"1","7":"5","8":"5","9":"5","10":"0"},{"1":"50045850","2":"Health MSc","3":"3","4":"6","5":"1","6":"4","7":"4","8":"3","9":"4","10":"4"},{"1":"50311419","2":"Health MSc","3":"5","4":"0","5":"5","6":"6","7":"5","8":"6","9":"4","10":"1"},{"1":"60784870","2":"Health MSc","3":"6","4":"3","5":"3","6":"3","7":"6","8":"5","9":"4","10":"1"},{"1":"66978708","2":"Health MSc","3":"5","4":"5","5":"0","6":"3","7":"6","8":"3","9":"0","10":"1"},{"1":"68327148","2":"Health MSc","3":"6","4":"5","5":"5","6":"4","7":"6","8":"4","9":"6","10":"6"},{"1":"69045914","2":"Health MSc","3":"8","4":"0","5":"1","6":"2","7":"3","8":"4","9":"6","10":"1"},{"1":"73141754","2":"Health MSc","3":"3","4":"3","5":"1","6":"4","7":"2","8":"3","9":"6","10":"6"},{"1":"87203466","2":"Health MSc","3":"5","4":"4","5":"0","6":"5","7":"5","8":"4","9":"4","10":"0"},{"1":"88901469","2":"Health MSc","3":"6","4":"4","5":"1","6":"3","7":"4","8":"5","9":"2","10":"4"},{"1":"88948385","2":"Health MSc","3":"6","4":"3","5":"3","6":"4","7":"5","8":"3","9":"3","10":"4"},{"1":"89327898","2":"Health MSc","3":"7","4":"4","5":"4","6":"6","7":"6","8":"5","9":"5","10":"6"},{"1":"91786723","2":"Health MSc","3":"4","4":"4","5":"0","6":"0","7":"6","8":"1","9":"5","10":"2"},{"1":"91900727","2":"Health MSc","3":"7","4":"6","5":"6","6":"6","7":"6","8":"6","9":"6","10":"6"},{"1":"93823613","2":"Health MSc","3":"4","4":"4","5":"0","6":"4","7":"3","8":"4","9":"3","10":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>What if we were interested in the reverse? Here is the code to select responses NOT from Health MSc participants.</p>
<pre class="r"><code>data.filter2 &lt;- filter(data.select,program != &quot;Health MSc&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student.no"],"name":[1],"type":["int"],"align":["right"]},{"label":["program"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stats.exp"],"name":[3],"type":["int"],"align":["right"]},{"label":["pathogen1"],"name":[4],"type":["int"],"align":["right"]},{"label":["pathogen2"],"name":[5],"type":["int"],"align":["right"]},{"label":["pathogen3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pathogen4"],"name":[7],"type":["int"],"align":["right"]},{"label":["pathogen5"],"name":[8],"type":["int"],"align":["right"]},{"label":["pathogen6"],"name":[9],"type":["int"],"align":["right"]},{"label":["pathogen7"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"11715687","2":"Conversion MSc","3":"7","4":"3","5":"3","6":"5","7":"4","8":"5","9":"4","10":"6"},{"1":"17204318","2":"Conversion MSc","3":"2","4":"4","5":"1","6":"3","7":"5","8":"4","9":"3","10":"3"},{"1":"18935518","2":"Conversion MSc","3":"5","4":"5","5":"3","6":"4","7":"3","8":"4","9":"4","10":"3"},{"1":"19566810","2":"Conversion MSc","3":"1","4":"3","5":"3","6":"4","7":"6","8":"5","9":"6","10":"5"},{"1":"23361563","2":"Conversion MSc","3":"1","4":"6","5":"0","6":"1","7":"2","8":"4","9":"0","10":"3"},{"1":"23392188","2":"Other Research MSc","3":"4","4":"6","5":"3","6":"6","7":"6","8":"5","9":"6","10":"6"},{"1":"24779705","2":"Conversion MSc","3":"1","4":"2","5":"1","6":"0","7":"6","8":"0","9":"1","10":"0"},{"1":"26181513","2":"Conversion MSc","3":"4","4":"5","5":"1","6":"3","7":"6","8":"4","9":"4","10":"3"},{"1":"26815237","2":"Conversion MSc","3":"2","4":"4","5":"0","6":"5","7":"5","8":"2","9":"3","10":"3"},{"1":"27163857","2":"Conversion MSc","3":"6","4":"3","5":"2","6":"3","7":"3","8":"6","9":"1","10":"3"},{"1":"28088607","2":"Other Research MSc","3":"6","4":"4","5":"1","6":"2","7":"1","8":"3","9":"1","10":"1"},{"1":"28229547","2":"Conversion MSc","3":"2","4":"0","5":"0","6":"0","7":"1","8":"0","9":"0","10":"3"},{"1":"29739378","2":"Conversion MSc","3":"1","4":"4","5":"0","6":"2","7":"2","8":"4","9":"0","10":"1"},{"1":"34432630","2":"Conversion MSc","3":"5","4":"6","5":"3","6":"0","7":"5","8":"4","9":"4","10":"3"},{"1":"35531321","2":"Conversion MSc","3":"1","4":"4","5":"2","6":"5","7":"2","8":"4","9":"0","10":"3"},{"1":"39402415","2":"Conversion MSc","3":"5","4":"6","5":"3","6":"2","7":"6","8":"3","9":"5","10":"6"},{"1":"40468529","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"4","7":"1","8":"4","9":"1","10":"3"},{"1":"40743780","2":"Conversion MSc","3":"2","4":"2","5":"0","6":"1","7":"3","8":"2","9":"1","10":"3"},{"1":"40975375","2":"Other Research MSc","3":"5","4":"5","5":"0","6":"1","7":"5","8":"5","9":"6","10":"0"},{"1":"41062226","2":"Conversion MSc","3":"3","4":"2","5":"4","6":"4","7":"2","8":"3","9":"6","10":"5"},{"1":"44873038","2":"Conversion MSc","3":"6","4":"3","5":"2","6":"2","7":"3","8":"2","9":"5","10":"3"},{"1":"46139250","2":"Conversion MSc","3":"4","4":"4","5":"5","6":"5","7":"6","8":"6","9":"6","10":"4"},{"1":"47331444","2":"Other Research MSc","3":"5","4":"5","5":"0","6":"3","7":"6","8":"4","9":"6","10":"4"},{"1":"47794858","2":"Conversion MSc","3":"2","4":"5","5":"3","6":"6","7":"2","8":"6","9":"5","10":"2"},{"1":"48515785","2":"Conversion MSc","3":"7","4":"6","5":"3","6":"6","7":"5","8":"5","9":"6","10":"5"},{"1":"49574167","2":"Other Research MSc","3":"6","4":"6","5":"1","6":"5","7":"6","8":"5","9":"6","10":"6"},{"1":"50087211","2":"Conversion MSc","3":"3","4":"6","5":"4","6":"3","7":"5","8":"3","9":"6","10":"6"},{"1":"51488584","2":"Conversion MSc","3":"1","4":"6","5":"2","6":"3","7":"4","8":"4","9":"6","10":"2"},{"1":"51603561","2":"Conversion MSc","3":"1","4":"5","5":"3","6":"4","7":"2","8":"5","9":"5","10":"5"},{"1":"53878954","2":"Conversion MSc","3":"1","4":"6","5":"3","6":"6","7":"3","8":"5","9":"5","10":"2"},{"1":"54356540","2":"Other Research MSc","3":"4","4":"6","5":"1","6":"3","7":"6","8":"6","9":"6","10":"6"},{"1":"54468708","2":"Conversion MSc","3":"7","4":"3","5":"0","6":"3","7":"6","8":"4","9":"0","10":"0"},{"1":"54935367","2":"Conversion MSc","3":"1","4":"6","5":"0","6":"4","7":"6","8":"4","9":"3","10":"3"},{"1":"55648027","2":"Conversion MSc","3":"3","4":"4","5":"3","6":"3","7":"2","8":"5","9":"4","10":"2"},{"1":"56599067","2":"Conversion MSc","3":"3","4":"4","5":"2","6":"1","7":"4","8":"3","9":"3","10":"2"},{"1":"57051197","2":"Other Research MSc","3":"6","4":"4","5":"0","6":"0","7":"5","8":"0","9":"1","10":"0"},{"1":"58483383","2":"Conversion MSc","3":"2","4":"3","5":"3","6":"5","7":"4","8":"3","9":"6","10":"1"},{"1":"58955821","2":"Other Research MSc","3":"8","4":"5","5":"6","6":"4","7":"3","8":"4","9":"2","10":"6"},{"1":"61664844","2":"Other Research MSc","3":"5","4":"6","5":"0","6":"4","7":"6","8":"4","9":"3","10":"5"},{"1":"63370442","2":"Conversion MSc","3":"3","4":"4","5":"1","6":"1","7":"1","8":"2","9":"3","10":"2"},{"1":"66598001","2":"Conversion MSc","3":"2","4":"5","5":"0","6":"2","7":"4","8":"4","9":"5","10":"1"},{"1":"67787999","2":"Other Research MSc","3":"2","4":"4","5":"0","6":"4","7":"4","8":"4","9":"0","10":"6"},{"1":"71121905","2":"Conversion MSc","3":"1","4":"4","5":"2","6":"3","7":"3","8":"5","9":"2","10":"3"},{"1":"71549852","2":"Other Research MSc","3":"3","4":"3","5":"3","6":"5","7":"2","8":"5","9":"2","10":"0"},{"1":"73432871","2":"Conversion MSc","3":"3","4":"2","5":"0","6":"2","7":"0","8":"4","9":"0","10":"5"},{"1":"74824053","2":"Conversion MSc","3":"6","4":"6","5":"1","6":"2","7":"5","8":"5","9":"6","10":"4"},{"1":"76275524","2":"Conversion MSc","3":"2","4":"6","5":"5","6":"5","7":"4","8":"5","9":"6","10":"4"},{"1":"76506621","2":"Conversion MSc","3":"3","4":"5","5":"2","6":"3","7":"4","8":"3","9":"1","10":"4"},{"1":"80943846","2":"Other Research MSc","3":"3","4":"5","5":"4","6":"2","7":"1","8":"3","9":"2","10":"4"},{"1":"81443313","2":"Conversion MSc","3":"2","4":"3","5":"2","6":"2","7":"0","8":"2","9":"1","10":"0"},{"1":"82821345","2":"Conversion MSc","3":"7","4":"6","5":"4","6":"4","7":"6","8":"5","9":"6","10":"4"},{"1":"83182402","2":"Conversion MSc","3":"2","4":"6","5":"0","6":"5","7":"6","8":"3","9":"5","10":"0"},{"1":"84242261","2":"Other Research MSc","3":"3","4":"4","5":"1","6":"4","7":"1","8":"4","9":"3","10":"1"},{"1":"85515190","2":"Other Research MSc","3":"3","4":"6","5":"2","6":"5","7":"2","8":"3","9":"6","10":"6"},{"1":"85997399","2":"Conversion MSc","3":"3","4":"5","5":"2","6":"3","7":"2","8":"4","9":"5","10":"4"},{"1":"86493744","2":"Conversion MSc","3":"3","4":"5","5":"0","6":"2","7":"6","8":"5","9":"0","10":"0"},{"1":"87985954","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"4","7":"4","8":"5","9":"0","10":"0"},{"1":"88116070","2":"Other Research MSc","3":"4","4":"4","5":"0","6":"1","7":"4","8":"1","9":"4","10":"2"},{"1":"88228495","2":"Conversion MSc","3":"2","4":"5","5":"2","6":"3","7":"3","8":"3","9":"5","10":"3"},{"1":"91869117","2":"Conversion MSc","3":"4","4":"2","5":"0","6":"2","7":"0","8":"3","9":"3","10":"0"},{"1":"93737412","2":"Conversion MSc","3":"3","4":"1","5":"2","6":"0","7":"2","8":"1","9":"4","10":"1"},{"1":"96521842","2":"Other Research MSc","3":"6","4":"5","5":"3","6":"3","7":"6","8":"5","9":"1","10":"1"},{"1":"97053400","2":"Conversion MSc","3":"3","4":"6","5":"1","6":"6","7":"5","8":"2","9":"2","10":"0"},{"1":"98773805","2":"Conversion MSc","3":"1","4":"5","5":"1","6":"1","7":"3","8":"3","9":"4","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="operators" class="section level4">
<h4>Operators</h4>
<p>Here is a good time to talk about logical operators. Logical operators are expressions that, when evaluated, return either a <code>TRUE</code> or <code>FALSE</code> value.</p>
<p>You have already been exposed to two logical operators in the code above, but here are a few more:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>Exactly equal to</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Not equal to</td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>Less than</td>
</tr>
<tr class="even">
<td><code>&gt;</code></td>
<td>Greater than</td>
</tr>
<tr class="odd">
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
</tr>
</tbody>
</table>
<p>These are some of the basic ones, but there are more. For a full list of operators, <a href="https://www.statmethods.net/management/operators.html">click here</a>.</p>
<p>Notice that some of these operators only work with numerical values. So for example, in the following numerical vector, we can test whether the number is less than 3.</p>
<pre class="r"><code>c(1,2,3,4,5) &lt; 3</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<p>What we find is that the first two responses are less than 3, so return a <code>TRUE</code> value, while the rest are not less than 3 (including 3 itself!), and therefore return a <code>FALSE</code> value.</p>
<p>This can be used to filter participants based on a numerical threshold. For example, if we were only interested in participants with a lot of experience in statistics, we can use the greater than or equal to <code>&gt;=</code> operator to select participants who rated this item a 7, 8, or 9.</p>
<pre class="r"><code>data.filter3 &lt;- filter(data.select,stats.exp &gt;= 7)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student.no"],"name":[1],"type":["int"],"align":["right"]},{"label":["program"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stats.exp"],"name":[3],"type":["int"],"align":["right"]},{"label":["pathogen1"],"name":[4],"type":["int"],"align":["right"]},{"label":["pathogen2"],"name":[5],"type":["int"],"align":["right"]},{"label":["pathogen3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pathogen4"],"name":[7],"type":["int"],"align":["right"]},{"label":["pathogen5"],"name":[8],"type":["int"],"align":["right"]},{"label":["pathogen6"],"name":[9],"type":["int"],"align":["right"]},{"label":["pathogen7"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"11644563","2":"Health MSc","3":"7","4":"5","5":"3","6":"1","7":"1","8":"6","9":"5","10":"3"},{"1":"11715687","2":"Conversion MSc","3":"7","4":"3","5":"3","6":"5","7":"4","8":"5","9":"4","10":"6"},{"1":"48515785","2":"Conversion MSc","3":"7","4":"6","5":"3","6":"6","7":"5","8":"5","9":"6","10":"5"},{"1":"54468708","2":"Conversion MSc","3":"7","4":"3","5":"0","6":"3","7":"6","8":"4","9":"0","10":"0"},{"1":"58955821","2":"Other Research MSc","3":"8","4":"5","5":"6","6":"4","7":"3","8":"4","9":"2","10":"6"},{"1":"69045914","2":"Health MSc","3":"8","4":"0","5":"1","6":"2","7":"3","8":"4","9":"6","10":"1"},{"1":"82821345","2":"Conversion MSc","3":"7","4":"6","5":"4","6":"4","7":"6","8":"5","9":"6","10":"4"},{"1":"89327898","2":"Health MSc","3":"7","4":"4","5":"4","6":"6","7":"6","8":"5","9":"5","10":"6"},{"1":"91900727","2":"Health MSc","3":"7","4":"6","5":"6","6":"6","7":"6","8":"6","9":"6","10":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="removing-participants-with-missing-data" class="section level4">
<h4>Removing Participants with Missing Data</h4>
<p>A common thing you are required to do when cleaning data is to remove participants that have missing data on a variable. As covered last week, by default, R codes missing data as <code>NA</code>. Also covered last week, there is a function in R that tells you if a value is missing - that function is <code>is.na()</code>. We can use this function within the <code>filter()</code> function to remove participants from a dataset that has missing data on a variable.</p>
<pre class="r"><code>data_remove.missing &lt;- filter(data,!is.na(var1))</code></pre>
<p>In the code above, the <code>!</code> can be translated to <code>not</code>. So here we are only including participants that do NOT have missing data for <code>var1</code>.</p>
<p>Note: it is possible that your data could code missing data as a different value (e.g., a common practice is to code missing values as ‘-99’) - in these instances you would want to remove participants with this value, rather than use <code>is.na()</code>.</p>
</div>
</div>
<div id="mutate" class="section level3">
<h3>mutate()</h3>
<p>We can use the <code>mutate()</code> function to calculate a new variable (column) from existing variables. Mutate applies vectorised function, which mean operations are conducted separately per row. This is useful for making aggregate scores (e.g., summing all items in a scale).</p>
<p>In the example below, we wish to calculate a total score of pathogen disgust from 7 separate items (Click <a href="https://pdfs.semanticscholar.org/bf02/5a6fda071d2e9302e2401becca91be30c165.pdf">here</a> for further details on the disgust scale). We can add the responses to each item of the pathogen disgust scale to compute each participant’s pathogen digust score. Let’s do it on the dataset with only Health MSc participants:</p>
<pre class="r"><code>data.mutate &lt;- mutate(data.filter1,
                      pathogen.disgust = pathogen1 + pathogen2 + pathogen3 + pathogen4 + pathogen5 + pathogen6 + pathogen7)</code></pre>
<p>Let me draw your attention to a few things with the code above. First, like a tidyverse functions, the first argument of the <code>mutate()</code> function is the data.frame we want to calculate the new variable in. Second, we specify the name of the new variable, followed by how that variable will be calculate. This syntax is very similar to that used by the <code>summarise()</code> function last week.</p>
<p>This is the data.frame we created using the mutate function. If you scroll all the way to the right, you will see there is a new column…</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student.no"],"name":[1],"type":["int"],"align":["right"]},{"label":["program"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stats.exp"],"name":[3],"type":["int"],"align":["right"]},{"label":["pathogen1"],"name":[4],"type":["int"],"align":["right"]},{"label":["pathogen2"],"name":[5],"type":["int"],"align":["right"]},{"label":["pathogen3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pathogen4"],"name":[7],"type":["int"],"align":["right"]},{"label":["pathogen5"],"name":[8],"type":["int"],"align":["right"]},{"label":["pathogen6"],"name":[9],"type":["int"],"align":["right"]},{"label":["pathogen7"],"name":[10],"type":["int"],"align":["right"]},{"label":["pathogen.disgust"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"11644563","2":"Health MSc","3":"7","4":"5","5":"3","6":"1","7":"1","8":"6","9":"5","10":"3","11":"24"},{"1":"17702449","2":"Health MSc","3":"5","4":"2","5":"2","6":"2","7":"2","8":"4","9":"6","10":"4","11":"22"},{"1":"17767997","2":"Health MSc","3":"4","4":"2","5":"3","6":"4","7":"2","8":"5","9":"1","10":"3","11":"20"},{"1":"20820533","2":"Health MSc","3":"4","4":"1","5":"0","6":"0","7":"5","8":"1","9":"0","10":"1","11":"8"},{"1":"26563628","2":"Health MSc","3":"5","4":"1","5":"2","6":"4","7":"3","8":"4","9":"5","10":"4","11":"23"},{"1":"33374488","2":"Health MSc","3":"6","4":"6","5":"2","6":"4","7":"5","8":"5","9":"4","10":"4","11":"30"},{"1":"34400097","2":"Health MSc","3":"5","4":"5","5":"3","6":"5","7":"6","8":"6","9":"2","10":"4","11":"31"},{"1":"43449921","2":"Health MSc","3":"5","4":"3","5":"1","6":"2","7":"4","8":"2","9":"0","10":"4","11":"16"},{"1":"45750699","2":"Health MSc","3":"5","4":"4","5":"1","6":"1","7":"5","8":"5","9":"5","10":"0","11":"21"},{"1":"50045850","2":"Health MSc","3":"3","4":"6","5":"1","6":"4","7":"4","8":"3","9":"4","10":"4","11":"26"},{"1":"50311419","2":"Health MSc","3":"5","4":"0","5":"5","6":"6","7":"5","8":"6","9":"4","10":"1","11":"27"},{"1":"60784870","2":"Health MSc","3":"6","4":"3","5":"3","6":"3","7":"6","8":"5","9":"4","10":"1","11":"25"},{"1":"66978708","2":"Health MSc","3":"5","4":"5","5":"0","6":"3","7":"6","8":"3","9":"0","10":"1","11":"18"},{"1":"68327148","2":"Health MSc","3":"6","4":"5","5":"5","6":"4","7":"6","8":"4","9":"6","10":"6","11":"36"},{"1":"69045914","2":"Health MSc","3":"8","4":"0","5":"1","6":"2","7":"3","8":"4","9":"6","10":"1","11":"17"},{"1":"73141754","2":"Health MSc","3":"3","4":"3","5":"1","6":"4","7":"2","8":"3","9":"6","10":"6","11":"25"},{"1":"87203466","2":"Health MSc","3":"5","4":"4","5":"0","6":"5","7":"5","8":"4","9":"4","10":"0","11":"22"},{"1":"88901469","2":"Health MSc","3":"6","4":"4","5":"1","6":"3","7":"4","8":"5","9":"2","10":"4","11":"23"},{"1":"88948385","2":"Health MSc","3":"6","4":"3","5":"3","6":"4","7":"5","8":"3","9":"3","10":"4","11":"25"},{"1":"89327898","2":"Health MSc","3":"7","4":"4","5":"4","6":"6","7":"6","8":"5","9":"5","10":"6","11":"36"},{"1":"91786723","2":"Health MSc","3":"4","4":"4","5":"0","6":"0","7":"6","8":"1","9":"5","10":"2","11":"18"},{"1":"91900727","2":"Health MSc","3":"7","4":"6","5":"6","6":"6","7":"6","8":"6","9":"6","10":"6","11":"42"},{"1":"93823613","2":"Health MSc","3":"4","4":"4","5":"0","6":"4","7":"3","8":"4","9":"3","10":"3","11":"21"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="other-tidyverse-functions" class="section level3">
<h3>Other tidyverse Functions</h3>
<p>We have covered three basic tidyverse functions here, but there are many more that are useful for data cleaning. These include functions to separate and unite variables, or reshape the data. To see the full list of tidyverse functions, check out <a href="https://www.rstudio.com/resources/cheatsheets/#dplyr">the tidyverse cheatsheets</a>.</p>
</div>
<div id="pipes" class="section level3">
<h3>Pipes (%&gt;%)</h3>
<p>Often when data cleaning you will have to do a number of operations to a dataset concurrently. One way to do this is to list the operations one after another, like we have done above. I have re-created the code below.</p>
<pre class="r"><code>data.select &lt;- select(data,program,stats.exp,pathogen1,pathogen2,pathogen3,pathogen4,pathogen5,pathogen6,pathogen7)
data.filter1 &lt;- filter(data.select,program == &quot;Health MSc&quot;)
data.mutate &lt;- mutate(data.filter1,pathogen.disgust = pathogen1 + pathogen2 + pathogen3 + pathogen4 + pathogen5 + pathogen6 + pathogen7)</code></pre>
<p>There is nothing wrong with the code above, but sometimes doing this can make your code hard to read. Also, you are required to save intermediate datasets as objects, which can clutter up your workspace.</p>
<p>A Pipe (<code>%&gt;%</code>) is a special type of function used to string multiple commands in R together. Pipes can be confusing at first, but they will make code more readable and efficient, so it is worth learning if you want to become an expert R coder. You can load the pipe by loading the tidyverse package.</p>
<p>How pipes work is that it passes an intermediate object from one function onto the next function. More specifically, the output from one function is passed to the first argument of the next function. One way to conceptualise it is think of it as an “AND THEN” statement. Tidyverse functions return a data.frame, and accept a data.frame as its first argument, so they are ideal for chaining together using a pipe. So, the code above becomes the following when using pipes:</p>
<pre class="r"><code>data.analysis &lt;- data %&gt;%                                     #Select our raw dataset
  select(program,stats.exp,pathogen1,pathogen2,pathogen3,     #Select the variables
         pathogen4,pathogen5,pathogen6,pathogen7) %&gt;%
  filter(program == &quot;Health MSc&quot;) %&gt;%                         #Select Health MSc participants
  mutate(pathogen.disgust = pathogen1 + pathogen2 +           #Compute pathogen disgust score
           pathogen3 + pathogen4 + pathogen5 + pathogen6 + pathogen7)</code></pre>
<p>The real advantage of piping is apparent when dealing with nested functions (i.e., functions that take arguments which themselves include a function). So for instance, if you wanted to do the above without saving intermediate datasets, you would end up with the code below, which is a hot mess.</p>
<pre class="r"><code>hot.mess &lt;- mutate(select(filter(data,program == &quot;Health MSc&quot;),program,stats.exp,pathogen1,pathogen2,pathogen3,pathogen4,pathogen5,pathogen6,pathogen7),pathogen.disgust = pathogen1 + pathogen2 + pathogen3 + pathogen4 + pathogen5 + pathogen6 + pathogen7)</code></pre>
</div>
</div>
</div>
<div id="exercises-1" class="section level1">
<h1>Exercises</h1>
<p>Now that you’ve completed this week’s workbook, why not give this week’s exercises a go? You can download the interactive exercises by clicking the link below.</p>
<p><a href = "exercises.html">Click here to download this week’s exercises.</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
